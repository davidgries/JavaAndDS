<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/onecolumntemplate.dwt" codeOutsideHTMLIsLocked="false" -->

<!--
	This document provides the basis of a semantically structured web page 
	authored in XHTML 1.0 Transitional using established Cornell University 
	naming conventions.
-->

<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>Java style guide</title>
<!-- InstanceEndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<!--
	All layout and formatting should be controlled through Cascading Stylesheets (CSS).
	The following link tag should appear in the head of every page in the website. see
	styles/screen.css.
-->
<link rel="stylesheet" type="text/css" media="screen" href="styles/screen.css" />
<!-- InstanceBeginEditable name="head" -->
<style type="text/css">
.bad {color:#ff0000;font-size:11pt;font-family:Courier New; font-weight: bold}
.bad {color:#ff0000;font-size:11pt;font-family:Courier New; font-weight: bold}
.code {white-space: pre; font-family:monospace}
.code {white-space: pre; font-family:monospace}
.good {color:#38761d;font-size:11pt;font-family:Courier New; font-weight: bold}
.good {color:#38761d;font-size:11pt;font-family:Courier New; font-weight: bold}
</style>
<!-- InstanceEndEditable -->
<script type="text/javascript"  src="http://code.jquery.com/jquery-latest.min.js"></script>
<link rel="stylesheet" href="js/fancyBox/source/jquery.fancybox.css" type="text/css" media="screen" />
<style type="text/css">
.authornames {
	font-size: 12pt;
}
.colorRed {
		color:firebrick;
	font-style: oblique;
	font-weight:500;
}
</style>
<script type="text/javascript" src="js/fancyBox/source/jquery.fancybox.pack.js"></script> 
<link href="menus/103/menu103id24_style.css" rel="stylesheet" type="text/css" />
</head>

<body class="onecolumn"> 

<!--
	The following link provides a way for people using text-based browsers and
	screen readers to skip over repetitive navigation elements so that they can 
	get directly to the content. It is hidden from general users through CSS.
-->
<div id="skipnav">
	<a href="#content">Skip to main content</a>
</div>

<hr />
<div ID="header1">
	<table>
		<tr>
			<td>
				<img src="images/cucs.gif" width="335"  alt=""/>
			</td>
			<td>
				<span ID="title">
					<br>
    JavaHyperText and Data Structures
  </span>
    
    <div ID="instructor"><br>
      David Gries, with help from many</div>
			</td>
		</tr>
	</table>
</div>
	


<!-- The header div contains the main identity and main navigation for the site -->
<div id="header">	
	<!--
		The navigation div contains the site's main navigation. These
		links will be displayed in a horizontal, gray navigation bar 
		under the unit signature banner.
	-->	
<div>
  <div id="menu103id24" class="cmmMenu">
    <ul>
        <li><a href="index.html"><span>Home</span></a></li>

        <li><a href="definitions.html"><span>Java<br />HyperText</span></a></li>
	
        <li><a href="JavaStyle.html"><span>Style <br />Guide</span></a></li>

        <li class="has-sub "><a href="eclipse/Ecl01eclipse.html"><span>Eclipse</span></a>
          <ul>
             <li><a href="eclipse/Ecl01eclipse.html#createProject"><span>0. Create project</span></a></li>
             <li><a href="eclipse/Ecl02LineNos.html"><span>1. Show line numbers</span></a></li>
             <li><a href="eclipse/Ecl01autoformat.html"><span>2. Import preferences for automatic formatting</span></a></li>
             <li><a href="eclipse/Ecl03layoutBad.html"><span>3. Reset layout</span></a></li>
             <li><a href="eclipse/Ecl04syntaxHelp.html"><span>4. Syntax help</span></a></li>
             <li><a href="eclipse/Ecl01eclipse.html#twoFiles"><span>5. Open 2 files</span></a></li>
             <li><a href="eclipse/Ecl05TODO.html"><span>6. ToDO comments</span></a></li>
             <li><a href="eclipse/Ecl06JUnitTesting.html"><span>6. JUnit testing</span></a></li>
             <li><a href="eclipse/Ecl10Assert.html"><span>7. Assert statement</span></a></li>
             <li><a href="eclipse/Ecl11RemoveImport.html"><span>8. Remove unused imports</span></a></li>
           </ul>
        </li>

        <li class="has-sub "><a href="apiString/10APIString.html"><span>API and strings</span></a>
          <ul>
            <li><a href="apiString/10APIString.html#apidoc"><span>1. API documentation</span></a></li>
            <li><a href="apiString/10APIString.html#string"><span>3. Using Strings</span></a></li>
          </ul>
       </li>
	
	 <li class="has-sub "><a href="explainJava/explainJava.html"><span>Explain<br />constructs</span></a>
          <ul>
            <li><a href="explainJava/explainJava.html">Introduction</a></li>
            <li><a href="explainJava/explainJava.html">1. Assignment statement</a></li>
            <li><a href="explainJava/explainJava.html#newExp"><span>2. New-expression</span></a></li>
            <li><a href="explainJava/explainJava.html#methodCalls"><span>3. Method calls</span></a></li>
            <li><a href="explainJava/explainJava.html#tryState"><span>2. Try-statement</span></a></li>
         </ul>
        </li>
   
        <li class="has-sub "><a href="exceptions/EX1.html"><span>Exceptions</span></a>
           <ul>
            <li><a href="exceptions/EX1.html"><span>1. Output of thrown exceptions</span></a></li>
            <li><a href="exceptions/EX2.html"><span>2. Throwable objects</span></a></li>
            <li><a href="exceptions/EX3.html"><span>3. Try-stmt/propagation</span></a></li>
            <li><a href="exceptions/EX4.html"><span>4. Throw-statement</span></a></li>
            <li><a href="exceptions/EX5.html"><span>5. Throws-clause</span></a></li>
            <li><a href="exceptions/EX6.html"><span>6. Hints</span></a></li>
          </ul>
        </li>

         <li><a href="abstractInterface/01ai.html"><span>Abstract classes<br />interfaces</span></a></li>

         <li><a href="iteratorIterable/iterator.html"><span>Iterator &<br />Iterable</span></a></li>
    </ul>
  </div>
	
  <div>
    <div id="menu103id24" class="cmmMenu">
     <ul>
	<li><a href="programCorrectness/programCorrectness.html"><span>Program<br />correctness</span></a></li>

         <li class="has-sub "><a href="loops/01aloop1.html"><span>Loop<br />invariants</span></a>
            <ul>
             <li><a href="loops/01aloop1.html"><span>1. Introduction</span></a></li>
             <li><a href="loops/20aloop.html"><span>2. Developing loops</span></a></li>
             <li><a href="loops/30aloop.html"><span>3. Finding an invariant</span></a></li>
          </ul>
        </li>
	
        <li><a href="stepwise/stepwise.html"><span>Stepwise<br />refinement</span></a></li> 

	<li class="has-sub "><a href="recursion/recursion.html"><span>Recursion</span></a>
           <ul>
             <li><a href="recursion/recursion.html"><span>Intro to recursion</span></a></li>
	     <li><a href="recursion/recursionTree.html"><span>&nbsp;&nbsp;&nbsp;on trees</span></a></li>
          </ul>
       </li>

        <li><a href="hashing/01hashing.html"><span>Hashing</span></a></li> 

        <li><a href="dfs/dfs01.html"><span>DFS<br />BFS</span></a></li>

        <li><a href="shortestPath/shortestPath.html"><span>Shortest<br /> path</span></a></li>
    </ul>
  </div>
</div>

<hr />




<!-- The content div contains the main content of the page -->
<!-- InstanceBeginEditable name="content" -->
<style type="text/css">
table, tr, th, td {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 1em;
	}
	
table {
	margin: 15px 0;
	caption-side: bottom;
	font-size: 10pt;
	}
	
th {
	padding: 0 15px 5px 15px;
	font-weight: normal;
	text-align: left;
	color: #888;
	}
	
td, tbody th {
	border-top: 0px solid #e7e7e7;
	}
	
tbody th {
	font-weight: bold;
	color: #222;
	text-align: right;
	}
</style>
<div  id="content">
  <div id="main">
      <h2 class="colorRed">Java Code Style Guidelines</h2>
      <p>One goal of a programming course is for you to learn to write programs that are not only correct but also understandable. These guidelines should help you toward that goal. They will give you a good basis for developing a style of your own as you become a more experienced programmer. This page includes guidelines for Java constructs that will be covered later in the semester. Skim these sections now and read them more carefully later, when the topics are discussed. </p>
      <p>Some of these guidelines are standard Java
          practice, while others are intended to develop good coding
          habits. When in doubt, choose the
          alternative that makes the code most obviously correct:</p>
      <blockquote>
          <p>&quot;There
              are two ways of constructing a software design. One way is to
              make it so simple that there are obviously no deficiencies. The other way is to make it so complicated that there are no
              obvious deficiencies.&quot; - C.A.R. Hoare. </p>
          <table width="521" border="0" class="colorRed">
              <tr>
                  <td width="515"><a href="#Naming">1. Naming conventions</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp; <a href="#CamelCase">1.1 Camelcase</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NameClass">1.2 Class and interface names</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NameMethod">1.3 Method names</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NameVariable">1.4 Variable names</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NamePackage">1.5 Package names</a></td>
              </tr>
              <tr>
                  <td><a href="#Format">2. Format conventions</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Indentation">2.1 Indentation and braces { and }</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#AlwaysBraces">2.2 Always use braces for contol structures</a></td>
              </tr>
              <tr>
                  <td><a href="#Comments">3. Documentation</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#commentkinds">3.1 Kinds of comments in Java, including Javadoc comments</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#overcomment">3.2 Don't over-comment</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#classinvariant">3.3 Class invariant</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#methodspecs">3.4 Method specifications</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#prepost">3.4.1 Preconditions and postconditions</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#classspecs">3.5 Class specifications</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#statementComments">3.6 Statement-comments</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#assertions">3.7 Assertions and the assert statement</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#loopInvariant">3.8 Loop invariants</a></td>
              </tr>
              <tr>
                  <td><a href="#codeOrganization">4. Code organization</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#fielddecs">4.1 Field and class variable declarations go at the beginning of a class</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#shortmethods">4.2 Keep methods short</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#useStateComs">4.3 Use statement-comments to organize a method</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#returns">4.4 Use returns to simplify method structure</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#shorterinIf">4.5 Put the shorter of the then-part and else-part first</a></td>
              </tr>
              <tr>
                  <td>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#locals">4.6 Declare local variables as close as possible to their first use</a></td>
              </tr>
              <tr>
                  <td><a href="#accessModifiers">5. Public/private access modifiers</a></td>
              </tr>
              <tr>
                  <td><a href="#mutatoretc">6. Creators/observers/mutators instead of getters/setters</a></td>
              </tr>
              <tr>
                  <td><a href="#sideEffects">7. Side effects</a></td>
              </tr>
              <tr>
                  <td><a href="#codeToInterface">8. Code to interfaces instead of implementations</a></td>
              </tr>
              <tr>
                  <td><a href="#deprecated">9. Avoid deprecated patterns</a></td>
              </tr>
          </table>
      </blockquote>
	  <style>
		  div.section {
	color: #903;
	margin-top: 12px;
	margin-left: 0px;
	margin-bottom: 0px;
	font-size: 12pt;
	font-weight: bold;
}

div.subsection {
	margin-top: 12px;
	margin-left: 0px;
	margin-bottom: 0px;
	font-size: 11pt;
	font-weight: bold;
	color:#903;
}


/* can't find a way to make IE respect white-space:pre, so we'll have to use <pre> instead... bleh */
/* the internet suggests using a strict doctype to force IE into standards compliance mode, but that doesn't seem to work */
div.code {
    white-space: pre;
    background-color:#dfdfdf; 
    border-style: none;
    color: black;
    margin: 20px;
    padding: 10px;
    font-size: 8pt;
    font-family: monospace;
}

div.codegries {
    border-style: none;
    color: black;
    margin-left: 40px;
    padding: 0px;
    font-size: 10pt;
    font-family: monospace;
}

div.code-broken {
    /* white-space: pre; */
    background-color:#dfdfdf; 
    border-style: none;
    color: black;
    margin: 20px;
    padding: 10px;
    font-size: 8pt;
    font-family: monospace;
		  }
</style>
	  
	  
	  
      <a name="Naming" id="Naming"></a>
      <p>&nbsp;</p>
      <div class="section">1. Naming Conventions</div>
      <p>We adhere to
          Java's naming conventions. These may seem arbitrary and
          bizarre if you're not used to them. Nonetheless,
          conforming to aesthetic standards of coding is something
          you'll need to do in just about any software
          development workplace, so it's good practice.</p>
      <a name="CamelCase" id="CamelCase"></a>
      <div class="subsection">1.1 CamelCase</div>
      <p>Java class, field, method, and
          variable names are written in <em>CamelCase</em>: Words are smashed
          together and the first letter of each word is capitalized. No word separator, like the underscore _, is used.</p>
      <div class="codegries">thisIsAnExample</div><br>
      <p>There is one exception to
          CamelCase: constants. Constants are in all-caps
          with words separated by underscores. Constants should
          also have the keyword final, and they are usually static:</p>
      <div class="codegries">public static final double SPEED_OF_LIGHT= 299792458; // in m/s </div>
      <a name="NameClass" id="NameClass"></a>
      <div class="subsection">1.2 Class and interface names</div>
      <p>Class and
          interface names are generally noun or noun phrases and begin with a capital letter:</p>
      <div class="codegries">interface AqueousHabitat { ... } <br />
          class FishBowl implements AqueousHabitat { ... }</div>
      <a name="NameMethod" id="NameMethod"></a>
      <div class="subsection">1.3 Method names</div>
      <p>Method names generally begin with a lowercase letter. A call on a procedure is a statement to do something, so a procedure name is generally  a verb phrase that is a command to do something.</p>
      <div class="codegries">public void setTitle(String t) { ... }</div><br>
	  
      <p>A function call yields a value, so a function name is generally a noun phrase that describes the value.</p>
      <div class="codegries">public double areaOfTriangle(int b, int c, int d) { ... }</div><br>
	  
      <p>However, a convention in Java is that a function that yields the value of a field (say title) is the name of the field preceded by &quot;get&quot;. People are of two minds on this; not everyone thinks it's a good idea. The name &quot;title&quot; could also be used.</p>
      <div class="codegries">public String getTitle() { ... }</div><br>
	  
      <p>The name of a boolean function is often a verb phrase starting with &quot;is&quot;, thus describing what the value means:</p>
      <div class="codegries">public boolean isEquilateralTriangle(int b, int c, int d) { ... }</div>
      <a name="NameVariable" id="NameVariable"></a>
      <div class="subsection">1.4 Variable names</div>
      <p>Variable names generally start with a lowercase letter.</p>
      <p class="codegries">Variable names should give the
          reader some hint about what the variable is used for. A well-chosen name, which gives a hint at the meaning of the variable, helps document a program, making it easier to understand. On the other hand, using the names of your friends or flowers that you like as variable names just annoys and makes the program harder to understand. Don't do that.  Also, refrain from using vague names like <em>counter</em> or <em>var</em> or <em>data</em>; instead think about what the variable really is for and use a more concrete name.</p>
	  
      <p class="codegries">There is a tension between writing long descriptive names and very short names. A long name may make it easy to remember what the variable is for, but its length may make the whole program seem long and complicated. It may be difficult to see what a very short name means, but it makes the program short. For example, consider these two statements, which look so different only because of the length of the variable name:</p>
      <div class="codegries">hypotenuseOfTriangle= 6 * (2 + hypotenuseOfTriangle) + 7 / hypotenuseOfTriangle <br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- hypotenuseOfTriangle;<br />
    <br />
          x= 6 * (2 + x) + 7 / x - x; </div><br />
      <p> A name can rarely be used to give a complete,
          precise definition of the entity it names, and a complete definition should
          always be given where the entity is defined.</p>
      <p>Here is a compromise. We tend to use shorter names for parameters and local variables and longer names 
		  for fields and static variables. We  explain why.</p>
	  
      <p><strong>Parameter names</strong>. The specification of a method will name all parameters and give their meanings. The body of a method is usually fairly short ---at most 30-50 lines. Therefore, when reading the method body, the meanings of parameters are available without any scrolling. So parameter names may be short --even one letter long.</p>
      <div class="codegries">/** Return &quot;lengths b, c, and d are the sides of an equilateral triangle&quot; */ <br />
          public boolean isEquilateralTriangle(int b, int c, int d) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;return b == c &amp;&amp; c == d;<br />
          } </div><br />
	  
      <p><strong>Local variable names</strong>. A local variable is a variable that is declared in a method body. Its declaration should be placed as close to its first use as possible. The scope of a local variable is usually short, and its meaning is often obvious either from a comment on its declaration or from the short code in which it is used. Therefore, names of local variables may be short.</p>
      <p><strong>Fields and class (i.e. static) variables</strong>. The declarations of field and class variables may be far from their uses --perhaps hundreds of lines away. Further, the meaning of fields and class variables are typically given as comments by the declarations, far from where the variables are used. Therefore, the names of field and class variables should be longer and as mnemonic as possible, giving the reader a good idea what the meaning are. </p>
      <a name="NamePackage" id="NamePackage"></a>
      <div class="subsection">1.5 Package names</div>
      <p>Package names are usually <em>all</em> lowercase and consist of nouns. </p>
      <a name="Format" id="Format"></a>
      <p>&nbsp;</p>
	  
      <div class="section">2. Format conventions</div>
      <p>Use a formatting convention consistently within a class. For example, the position of open braces &quot;{&quot; should be the same throughout the program.</p>
      <p>Put only one statement on a line (although there may be exceptional cases where more than one is better). Don't pack everything together, making a program hard to read. </p>
      <p>Make sure that all lines can be read without the need for horizontal scrolling. A mximum of 80 characters per line is recommended.</p>
      <a name="Indentation" id="Indentation"></a>
      <div class="subsection">2.1. Indentation and braces { }</div>
      <p>Indentation is used to make the structure of a program clear. The basic rule is:</p>
      <blockquote>
          <p><span class="reddish">Substatements of a statement or declaration should be indented</span>.</p>
      </blockquote>
      <p>For example, the declarations in a class, the body of a method, and the if-part and then-part of a conditional statement should be indented. We prefer indentation of 4 spaces, not 2. In Eclipse, you can set the amount to indent using menu item <span class="reddish">Preferences -&gt; Java -&gt; Code Style -&gt; Formatter</span>.</p>
      <p>Eclipse makes it easy to indent a whole class consistently. Just select all lines (<span class="reddish">control-A</span> or <span class="reddish">command-A</span>) and press <span class="reddish">control-i </span>or <span class="reddish">command-i</span>.</p>
      <p>We prefer putting an opening curly brace &quot;{&quot; at the end of a line, and not on a line by itself, as shown below. The closing brace &quot;}&quot; appears on its own line, indented as shown below.</p>
      <div class="codegries"> if (x &lt; y)        {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (x &lt; y) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;x= y;       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x= y;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;y= 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y= 0; <br />
          }                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />
          else {                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(or)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x= 0;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;x= 0; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y= y/2;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;y= y/2;          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
          } </div><br />
	  
      <p>A second oft-used convention is to put the opening brace on a line by itself, as shown below. This has a disadvantage. A scarce resource is the number of lines that one can see on the monitor at one time, and this convention wastes that resource.</p>
      <div class="codegries"> if (x &lt; y)        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (x &lt; y)<br />
          {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;{ <br />
    &nbsp;&nbsp;&nbsp;&nbsp;x= y;       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x= y;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;y= 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y= 0; <br />
          }                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;} else<br />
          else &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(or)     &nbsp;{<br />
          {                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp; &nbsp;&nbsp;x= 0;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;x= 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y= y/2;<br />
    &nbsp;&nbsp;&nbsp; y= y/2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
          }
          &nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br />
      </div> <br />
	  
      <p>If you are used to using the second convention, we suggest that you use the first convention for the remainder of the course. After that, you can choose either style for the rest of your life; you will be making an informed decision, based on experience with both.</p>
      <a name="AlwaysBraces" id="AlwaysBraces"></a>
      <div class="subsection">2.2 Always use braces for control flow structures</div>
      <p>The following is just begging for a bug:</p>
      <div class="codegries">if (flag)
          validate();</div><br>
      <p>Can you spot the bug here?</p>
      <div class="codegries">if (flag)
          validate();
          update(); </div><br>
      <p>Always use braces:</p>
      <div class="codegries">if (flag) { <br />
    &nbsp;&nbsp;&nbsp;&nbsp;validate(); <br />
    &nbsp;&nbsp;&nbsp;&nbsp;update(); <br />
          }</div><br >
	  
      <p>(This applies to other
          structures as well, like if-else statements for-loops, and while-loops)</p>
	  
	  <p>That said, there <i>are</i> situations where the braces are best left out.
		  You'll see that happening in a few places in this website.
      <p>Put a
          space between the keyword and the following parenthesis, to differentiate
          control structures from method calls:</p>
      <div class="codegries"><span class="good">// &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Good</span> if (username == null) {
          ...
          } <br />
          <span class="bad">// Less Good</span> if(username == null) {
          ...
          }<br />
      </div>
      <a name="Comments" id="Comments"></a>
      <p>&nbsp;</p>
      <div class="section">3. Documentation</div>
      <p class="section">There are two reasons for documenting a program well.</p>
      <p>First, you, the programmer, need all the help you can get while writing and debugging the program. This means that documentation should be written <em>during</em> the coding/debugging process; it should not be put off until the program is considered finished. The tendency is to wait until the end, and then document. That just means you will make more errors, take more time programming, and end up with more bugs in your program. Get in the habit of documenting a field when you declare it and specifying a method <em>before</em> you write its body. If you decide to change what a method is supposed to do, change its specification first!</p>
      <p>You document a program well so that others have an easier time understanding it. A professional programmer is well regarded if their code is easy to maintain by others. A grader of your assignment will be more likely to feel good about you when grading if your program is well documented. So, document your program well.</p>
      <p><em>The Elements of Style</em>, a famous little book on writing style by Cornell Professors W. Strunk, Jr., and E.B. White, contains several rules that are useful for programming as well as writing. Among them are:</p>
      <blockquote>
          <p> Omit needless words.<br />
              Use the active voice.</p>
      </blockquote>
      <p>Follow these rules when writing specifications of methods. For example, don't write the specification ``This function searches list x for a value y and ...'' or ``Function isIn searches list x for a value y ...''. Such specifications are too wordy and are not commands but descriptions. Instead, say the following.</p>
      <div class="codegries">/** Return (the value of the sentence) &quot;y is in list x&quot; */ <br />
          boolean isIn(int y, List x) </div>
      <a name="commentkinds" id="commentkinds"></a>
      <div class="subsection">3.1. Kinds of comments in Java, including Javadoc comments</div>
      <p>Java has three kinds of comments. Comments that start with &quot;//&quot; are one-line comments: the comment ends at the end of the line. Comments that start with &quot;/*&quot; must end with &quot;*/&quot;, but they may span many lines.</p>
      <p>A Javadoc comment starts with &quot;/**&quot; (and therefore ends with &quot;*/&quot;. Javadoc stands for &quot;Java documentation&quot;. These comments have a special place in Java and also in Eclipse, when dealing with a Java program. Suppose a method is written like this:</p>
      <div class="codegries">/** Add e as this Butterfly's father. Precondition: ... */<br />
          public void addFather(Butterfly e) { ... }</div><br>
	  
      <p>If you now hover the mouse over a call of this function, e.g.</p>
      <div class="codegries">but.addFather(dad);</div><br>
	  
      <p>a pop-up window opens with the specification of the method in it! So you get to see preciely what the function call will do and what its preconditions is. Do you see how writing specifications during programming can help you?</p>
	  
      <p>Secondly, at any time, in Eclipse you can use menu item Project -&gt; Generate Javadoc to extract from the program all properly written and placed javadoc comments into a bunch of webpages that document the class. Those pages are what others will use when using your program ---they will not look at the source program.</p>
	  
      <a name="overcomment" id="overcomment"></a>
      <div class="subsection">3.2 Don't over-comment</div>
      <p>Some people have a tendency to put a &quot;//&quot; comment on almost every line. This is generally just noise, making it harder to read the program. Don't do it. Refrain from commenting lines like this:</p>
      <div class="codegries">i= i+1; // add one to i</div><br>
	  
      <p>Assume that the reader has experience with Java and understands basic statements. Generally speaking, the only kinds of comments needed are those that are mentioned in this section 3 on comments.</p>
	  
      <a name="classinvariant" id="classinvariant"></a>
      <div class="subsection">3.3 Class invariant</div>
      <p>The class invariant is the collection of meanings of and constraints on fields of a class.
      The class invariant is generally placed in comments on each individual field declaration or placed as a
      single comment before the fields. Here are examples.
      Note the appearance of constraints, when necessary.
      We have made them javadoc comments so the Eclipse feature of showing the javadoc comments when an occurrence of the field name is
      moused over will work.</p>
	  
      <div class="codegries">/** The hour of the day, in 0..23.*/<br>
           private int hr;<br />
          <br />
          /** temps[0..numRecorded-1] are the recorded temperatures */<br />
          private double[] temps;<br />
          /** number of temperatures recorded */<br /> 
          private int  numRecorded;  </div><br />
          
      <p>If you are not interested in using the javadoc facility in an IDE, since the fields are private, javadoc
      comments are not necessary. Therefore, you can write the
      class invariant in a readable style as one-line comments on the same line as the declaration:</p>
      
      <div class="codegries">
           private int hr; // The hour of the day, in 0..23.<br />
          <br />
          
          private double[] temps;   // temps[0..numRecorded-1] are the recorded temperatures<br />
          private int  numRecorded; // number of temperatures recorded </div><br />
	  
      <p>The purpose of a constructor is to initialize all fields so that the class invariant is true. Then, when writing a method, you can assume that the class invariant is true when the method is called and write the method body so that it terminates with the class invariant true. Looking often at the class invariant can help prevent mistakes caused by forgetting just what a field means or what its constraints are.</p>
      <a name="methodspecs" id="methodspecs"></a>
	  
      <div class="subsection">3.4 Method specifications</div>
      <p>Every method should be preceded by a blank line and then a Javadoc specification that describes what the method does, along with preconditions ---constraints on the arguments of a call. In order to do this properly, the specification must mention each parameter, indicating what it is for.</p>
      <p>Java has certain conventions for describing the parameters and result of a method. For example, one can write this within a Javadoc specification to describe parameter b and the result</p>
      <div class="codegries">@param b one of the sides of the triangle<br />
          @return The area of the triangle</div><br />
	  
      <p>One can certainly use these. However, we have found that a specification can be written more compactly and clearly without using those, and we do not require them. The main guideline is to write the specification as a command to do something, naming all parameters in that command. Examples are given below.</p>
      <p>Procedure specifications are generally best written as commands to do something, e.g.</p>
      <div class="codegries">/** Print the sum of a and b. */<br />
          public static void printSum(int a, int b) { ... } </div><br />
	  
      <p>Function specifications are generally written to indicate what to return, e.g.:</p>
      <div class="codegries"> /** Return area of triangle whose side lengths are a, b, and c. */<br />
          public static double area(double a, double b, double c) { ... } </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or
<div class="codegries">/** = area of triangle whose side lengths are a, b, and c. */<br />
    public static double area(double a, double b, double c) { ... }</div><br />
	  
<p>The purpose of a constructor is to initialize all fields so that the class invariant is true. We favor writing a constructor specification as illustrated by the following:</p>
<div class="codegries">/** Constructor: an instance with hour-of-day h and minute-of-the-hour m.<br />
    &nbsp;&nbsp;&nbsp;* Precondition: h in 0..23 and m in 0..59. */<br />
    public Time(int h, int m) { ... } </div>
<p><a name="prepost" id="prepost"></a></p>
	  
<div class="subsection">3.4.1. Preconditions and postconditions</div>
<p> A precondition is an assertion --a true-false statement-- about the parameters of a method that must be satisfied if the method is to do its job properly. It is <em>not</em> the responsibility of the method to check that the precondition is true. It <em>is</em> the responsibiity of the programmer who writes a call on the method to ensure that the arguments of the call satisfy the precondition. The following example shows how we write preconditions:</p>
<div class="codegries">/** Return the index of the rightmost occurrence of x in b.<br />
    &nbsp;&nbsp;&nbsp;&nbsp;Precondition: b is sorted (in ascending order) and x is in b */<br />
    <strong>public static int</strong> binarySearch(int x, int[] b)</div><br />
	  
<p>A call &nbsp;<span class="codegries">binarySearch(25, c)</span>&nbsp; will work properly only if 25 is in
	array c and c is sorted. If not, the method can do <em>anything</em>.</p>
<p>If it doesn't cost too much, the method can be made more robust by checking that the precondition is true (using a Java assert statement), but it is not necessary.</p>
<p>Similarly, a postcondition is an assertion that will be true upon termination of the method.</p>
<a name="classspecs" id="classspecs"></a>
<p>&nbsp;</p>
<div class="subsection">3.5. Class specifications</div>
<p> Each public class is given in a separate file. The beginning of the file should contain a javadoc comment that explains what the class is for. This can be a simple, short summary. Often, one also puts here information concerning the author, the date of last modification, and so on. Here is an example.</p>
<div class="codegries"> /** An object of class Auto represents a car.<br />
    &nbsp;&nbsp;&nbsp;&nbsp;Author: John Doe.<br />
    &nbsp;&nbsp;&nbsp;&nbsp;Date of last modification: 25 August 1998 */<br />
    public  class Auto { ... }</div><br>
	  
<p> Inner classes and non-public classes that are defined in the same file along with a public class should be specified in a similar fashion.</p>
<a name="statementComments" id="statementComments"></a>
<div class="subsection">3.6. Statement-comments</div>
<p>Just as the sentences of an essay are grouped in paragraphs, so the sequence of statements of the body of a method should be grouped into logical units. Often, the clarity of the program is enhanced by preceding a logical unit by a comment that explains what it does. This comment serves as the specification for the logical unit; it should say precisely what the logical unit does.</p>
<p> The comment for such a logical unit is called a <em>statement-comment</em>. It should be written as a command to do something. Here is an example.</p>
<div class="codegries">// Truthify x &gt;= y by swapping x and y if needed.<br />
    if (x &lt; y) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;int tmp= x;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;x= y;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;y= tmp;<br />
    }</div><br>
	  
<p> <span class="reddish">A statement-comment should explain what the group of statements does, not how it does it</span>. Thus, it serves the same purpose as the specification of a method: it allows one to skip the reading of the statements of the logical unit and just read the comment. With suitable statement-comments in the body of a method, one can read the method at several &quot;levels of abstraction&quot;, which helps one scan a program quickly to find a section of current interest, much like on scans section and subsection headings in an article or book. But this purpose is served only if statement-comments are precise.</p>
<p> Statement comments must be complete. The comment</p>
<div class="codegries">// Test for valid input</div><br />
	  
<p> is not adequate. What happens if the input is valid? What if it isn't --is an error message written or is some flag set? Without this information, one must read the statements for which this statement-comment is a specification, and the whole purpose of the statement-comment is lost.</p>
<p><strong>Use of blank lines. </strong>Place a blank line after the implementation of each  statement-comment. In the following example, </p>
<div class="codegries">// Eliminate whitespace from the beginning of t.<br />
    while (t.length() != 0 &amp;&amp; isWhitespace(t.charAt(0))) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;t= t.substring(1);<br />
    } <br />
    <br />
    // If t is empty, print an error message and return.<br />
    if (t.length() == 0) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;...<br />
    &nbsp;&nbsp;&nbsp;&nbsp;return false;<br />
    }<br />
    <br />
    if (containsCapitals(t)) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br />
    }<br />
    <br />
    // Store the French translation of t in tFrench.<br />
    ...<br />
    <br />
</div>
<p> This sequence consists of 4 statements: (1) eliminate the whitespace ..., (2) print a message and return false if t is empty, (3) do something if t contains capitals, and (4) store the French translation. Three of these are statement-comments, and one can easily see, because of the blank lines, where their implementations end. </p>
	  
<a name="assertions" id="assertions"></a>
<div class="subsection">3.7 Assertions and the assert statement</div>
<p>An assertion is a true-false statement that is placed (as a comment) at some point in a method body to indicate what is true at that point. In order to distinguish it from a statement-comment, it is suggested to place it in braces { and } as shown in the following example --historically, that was how assertions were written. However, few people will take the trouble to put in the braces.</p>
<div class="codegries">// { b[0..t-1] is sorted }</div><br />
<p>Place assertions wherever the code below depends on that assertion being true and the assertion helps the reader understand. One particular use of it can be in a function body that returns in several places. The following illustrates this:</p>
<div class="codegries"> /** Return the middle value of b, c, d */<br />
    public static int middle(int b, int c, int d) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (b &gt; c ) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int temp= b;           b= c; c= temp;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { b &lt;= c }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (b &lt;= d) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// { middle value is smaller of c and d }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Math.min(c, d);<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { d &lt; b &lt;= c }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;return b; <br />
    } </div><br />
	  
<p>In place of the assertion as a comment, one could also use the Java assert statement:</p>
<div class="codegries"><strong>assert</strong> &lt;boolean expression&gt; ;</div><br />
	  
<p>If the &lt;boolean expression&gt; is true, nothing is done, but if it is false, execution throws an exception and, generally, the program terminates.</p>
<p>Using the assert statement instead of an assertion-comment has the advantage of catching errors that cause the assertion to be false. Some people advocate leaving assertions in a finished program, for just that reason, unless the boolean expression is so complicated that it ends up slowing down the program execution.</p>
	  
<p><a name="loopInvariant" id="loopInvariant"></a></p>
<div class="subsection">3.8 Loop invariants</div>
<p>A loop invariant is an assertion that is true before and after each iteration of a loop and is used to prove correctness of the loop (i.e. prove that execution of the loop achieves the desired postcondition). We do not explain loop invariants here.
    Our purpose is only to show where they are placed in the program. </p>
<p>A loop invariant is placed as a comment just before the loop. Below, we show a loop invariant in the same code written using a while loop and written using a for-loop.</p>
<div class="codegries">// Sort b[0..]<br />
    k= 0;<br />
    // invariant: b[0..k-1] is sorted and b[0..k-1] &lt;= b[k..]<br />
    while (k &lt; b.length) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;Swap b[k] with smallest of b[k..];<br />
    &nbsp;&nbsp;&nbsp;&nbsp;k= k+1; <br />
    } <br />
    <br />
    <br />
    // Sort b[0..]<br />
    // invariant: b[0..k-1] is sorted and b[0..k-1] &lt;= b[k..]<br />
    for (int k= 0; k &lt; b.length; k= k+1) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;Swap b[k] with smallest of b[k..];<br />
    }</div>
<a name="codeOrganization">
<p>&nbsp;</p>
<div class="section">4. Code organization</div>
<a name="fielddecs" id="fielddecs"></a>
<div class="subsection">4.1 Field and class variable declarations go at the beginning of a class</div>
<p>Place all field and class (static) variables at the beginning of a class, before all the methods. That is where a reader will look for them. </p>
	
<a name="shortmethods" id="shortmethods"></a>
<div class="subsection">4.2 Keep methods short</div>
<p>As a general rule of thumb, if a
    single method is getting beyond 20-50 lines, consider <em>lifting</em> some of its functionality into
    other methods. Rarely should a method be over 50 lines.</p>
<p>Similarly, if you find yourself pasting
    the exact same chunk of code into several places, consider creating a single method that does the job.
    The <em>Refactor</em> contextual menu in Eclipse can help with
    this. </p>
<p>It is possible to go
    overboard with this. Even if two blocks of code are
    structurally similar, don't merge them into the same
    method if they do different things. Each method should have
    only one purpose. Names like &nbsp;saveOrLoadAnimal()&nbsp; are a clue
    that you really need two methods: &nbsp;saveAnimal()&nbsp; and &nbsp;loadAnimal()&nbsp;.</p>
	
<a name="useStateComs" id="useStateComs"></a>
<div class="subsection">4.3 Use statement-comments to organize a method</div>
<p>A long method body should generally be broken into a sequence of logical units, each performing some subtask. Each of these logical units needs a comment that describes <em>what</em> the unit does. The section on <a href="#statementComments">statement-comments</a> discusses this.</p>
<p>Often, the process of <em>step-wise refinement</em> of a program leads naturally to these logical units. For example, one might look at the specification of a method and decide that it can be implemented in three steps, each written in English:</p>
<div class="codegries">Do b;<br />
    Do c;<br />
    Do d </div><br />
	
<p>They would become statement-comments, with their implementations underneath:</p>
<div class="codegries">// Do b<br />
    implementation of &quot;Do b&quot;<br />
    <br />
    // Do c<br />
    implementation of &quot;Do c&quot;<br />
    <br />
    // Do d <br />
    implementation of &quot;Do d&quot; </div><br />
	
<a name="returns" id="returns"></a>
<div class="subsection">4.4 Use returns to simplify method structure</div>
<p>You may hear from some people that a method should return only in the last statement of the method, at the end of the method body. In some cases, that can lead to a messy, incomprehensible method body. Use of return statements in several places, along with appropriate use of <a href="#assertions">assertions</a>, can lead to a far more comprehensible method. Further, this use of returns is developed naturally during stepwise refinement. However, one must be disciplined with the use of the returns and assertions.</p>
<p class="codegries">As an example, we present a method that calculates the score for a bowling frame given the two objects for the next two frames. (Understanding this requires knowledge of bowling!) Note the use of assertions. We challenge you to write this method more simply, using only one return statement, or by using nested if-else statements, each part of which ends with a return statement.</p>
<div class="codegries">/** = the score for this frame, given the two following frames f1 and f2.<br />
    &nbsp;&nbsp;&nbsp;&nbsp;Pre: If this is the ninth frame,  f2 is null.<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If this is the tenth frame, f1 and f2 are null*/<br />
    public int score(Frame f1, Frame f2) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (isTenth) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return firstBall + secondBall + thirdBall;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { it's not the tenth frame }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// Return value if it is not a strike or spare<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (firstBall + secondBall &lt; 10) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return firstBall + secondBall;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;// Return the value for a spare --in other than 10th frame<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (firstBall &lt; 10 &amp;&amp; firstBall + secondBall == 10) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return firstBall + secondBall + f1.firstBall;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { it's a strike and it's not the tenth frame }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// Return a value for a strike in the ninth frame<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (f2 == null) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return firstBall + f1.firstBall + f1.secondBall;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;// Return a value for a strike in frame in the range 1..8<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (f1.firstBall &lt; 10) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 10 + f1.firstBall + f1.secondBall;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { The next frame is a strike }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;return firstBall + f1.firstBall + f2.firstBall;<br />
    }</div><br />
	
<a name="shorterinIf" id="shorterinIf"></a>
<div class="subsection">4.5 Put the shorter of the then-part and else-part first</div>
<p>One sometimes sees a segment that looks like this:</p>
<div class="codegries">if (condition) {<br />
    &nbsp;&nbsp;&nbsp;...<br />
    &nbsp;&nbsp;&nbsp;30 lines of code<br />
    &nbsp;&nbsp;&nbsp;&nbsp;...<br />
    } else single-statement</div><br />
	
<p>The long distance of the if-line from the else-part makes it difficult for the reader. Better is to structure it like this:</p>
<div class="codegries">if (!condition) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;single-statement<br />
    } else {<br />
    &nbsp;&nbsp;&nbsp;...<br />
    &nbsp;&nbsp;&nbsp;30 lines of code<br />
    &nbsp;&nbsp;&nbsp;&nbsp;...<br />
    }</div><br />
	
<p>Further, if the single-statement is a return statement, simplify the structure by writing it like this:</p>
<div class="codegries">if (!condition) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;return ...;<br />
    // { ! condition } <br />
    ...<br />
    30 lines of code<br />
    ...<br />
</div><br />
	
<a name="locals" id="locals"></a>
<div class="subsection">4.6 Declare local variables close to first use</div>
<p>A local variable is a variable declared within a method body.</p>
<p>The tendency is to declare all variables at the beginning of the method body, and to start off inserting there all the variables you think you might need. <strong><span class="reddish">Fight this tendency! </span></strong>It leads to a proliferation of variables that often are not needed, and it forces the reader to look at and think about variables at the wrong time.</p>
<p><span class="reddish">Principle</span>: Declare a variable as close to its first use as possible.</p>
<p>Look at the small example below. Variable temp has been declared first. This causes the reader to ask, &quot;What is temp for? Well, I don't know.&quot; The reader goes on and sees that there are some statements to swap b and c under certain circumstances and skips them because the reader knows how to write a swap. Well, the reader still doesn't know what temp is for!</p>
	
<div class="codegries">/** Return middle value of b, c, d */<br />
    public static int middle(int b, int c, int d) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;int temp;<br />
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;// Swap b, c to put smaller in b<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (b &gt; c) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp= b;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b= c;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c= temp;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { b &lt;= c }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (d &lt;= b) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return b;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { b &lt; d and b &lt;= c }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;return Math.min(c, d); <br />
    }</div><br />
	
<p>In the code below, temp is declared where it belongs, and the reader who doesn't want to read the swap implementation doesn't even have to know that there is a local variable temp.</p>
<p>This is a <em>small</em> example. In a longer method, with loops and such, the use of the principle to place local variables as close to their first use as possible becomes more important.</p>
<div class="codegries">/** Return middle value of b, c, d */<br />
    public static int middle(int b, int c, int d) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// Swap b, c to put smaller in b<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (b &gt; c) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int temp= b;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b= c;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c= temp;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    <br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { b &lt;= c }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;if (d &lt;= b) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return b;<br />
    &nbsp;&nbsp;&nbsp;&nbsp;}<br />
    &nbsp;&nbsp;&nbsp;&nbsp;// { b &lt; d and b &lt;= c }<br />
    &nbsp;&nbsp;&nbsp;&nbsp;return Math.min(c, d); <br />
    }</div>
<a name="accessModifiers" id="accessModifiers"></a>
<p>&nbsp;</p>
<div class="section">5. Public/private access modifiers</div>
<p>Java has four levels of
    access: public, private, protected, and package (the default; what you get when no
    modifier is specified).  Here is how we generally use them:</p>
<p><strong>public</strong>: public items can be used anywhere. </p>
<p> Methods are public if they are part of the outward &quot;behavior&quot; of the class, i.e. if the user should be able to use them. Otherwise, make them private.</p>
<p>Constants, i.e. static final fields, are usually public so that anyone can use them.</p>
<p><strong>private</strong>: private items can be referred to only in code within the class.</p>
<p>Fields and class (i.e. static) variables should should be
    private unless there is a specific, good reason for them to be otherwise.</p>
<p>A method should be made private if the user should not be able to call it from outside the class.</p>
<p><strong>protected</strong>: Protected components can be referenced within the class, within subclasses, and within any class defined in the same package.</p>
<p><strong>package</strong> (the default, i.e. what one gets when no modifer is used): package components can be referenced within the class and within any class that is in the same package.</p>
<table width="200" border="1">
    <caption>
        Use of access modifiers
    </caption>
    <tr>
        <th align="center" scope="col">Modifier</th>
        <th align="center" scope="col">Class</th>
        <th align="center" scope="col">Package</th>
        <th align="center" scope="col">Subclass</th>
        <th align="center" scope="col">World</th>
    </tr>
    <tr>
        <td align="left"><strong>public</strong></td>
        <td align="center">yes</td>
        <td align="center">yes</td>
        <td align="center">yes</td>
        <td align="center">yes</td>
    </tr>
    <tr>
        <td align="left"><strong>protected</strong></td>
        <td align="center">yes</td>
        <td align="center">yes</td>
        <td align="center">yes</td>
        <td align="center">no</td>
    </tr>
    <tr>
        <td align="left"><strong>package</strong></td>
        <td align="center">yes</td>
        <td align="center">yes</td>
        <td align="center">no</td>
        <td align="center">no</td>
    </tr>
    <tr>
        <td align="left"><strong>private</strong></td>
        <td align="center">yes</td>
        <td align="center">no</td>
        <td align="center">no</td>
        <td align="center">no</td>
    </tr>
</table>
	
<a name="mutatoretc" id="mutatoretc"></a>
<p>&nbsp;</p>
<div class="section">6. Creators/observers/mutators</div>
<p class="reddish"><strong>Problems with the getter/setter  terminology</strong></p>
<p>Here is conventional terminology: a <em>getter method</em> is a function that returns the value of a field (and changes nothing); a <em>setter method</em> is a procedure that stores a value in a field.</p>
<p>This terminology has problems, and it is better to use an alternative terminology: creators, observers, and mutators. <a href="files/mutator.pdf">This pdf file</a> explains it all in one page.</p>
<p class="reddish"><strong>Immutable classes (or objects)</strong></p>
<p>Classes that contain no mutator methods are called <span class="reddish">immutable</span> (or rather their objects are <span class="reddish">immutable</span>). <span class="reddish">Immutable</span> means not capable of change, invariable, unalterable. Classes <em>String</em> and <em>Integer</em> are immutable. You cannot change the value of the string in a String object ---but you can create new String objects. The advantage of immutable classes is that their objects can be shared freely by different code modules.</p>
	
<a name="sideEffects" id="sideEffects"></a>
<p>&nbsp;</p>
<div class="section">7. Side effects</div>
<p>A side effect occurs when evaluation of an expression changes a value. For example, a side effect occurs if evaluation of the following loop condition, which is a call on function f, changes some variable:</p>
<blockquote>
    <p ><strong>while</strong> (f(...)) {...}</p>
</blockquote>
<p>Generally, side effects should be avoided. This means, for example, that an assignment statement like</p>
<blockquote>
    <p> b= ...; </p>
</blockquote>
<p>should change no variable other than b. A side-effect that changes something else could be disastrous, unless it is very well documented and the programmer is aware of what is happening. In fact, the theory of proving programs correct tells us that formal proofs of correctness when side effects may occur are far far more complex than when they may not.</p>
	
<p ><strong>Standard paradigms</strong></p>
<p>One does see some standard paradigms that use side effects. For example, below is a loop that reads and prints lines of a <em>BufferedReader br</em>; the loop condition has the side effect of assigning to variable <em>line</em>.</p>
<blockquote> <p>String line;<br />
    while ((line= br.readLine()) != null) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;line is &quot; + line);<br />
    }</p></blockquote><br>
	
<p>However, we would never write the loop like this, preferring to write it as follows, in a way that has no side effects, even though it is longer that the one above.</p>
<blockquote> <p>String line= br.readLine();<br />
    // invariant: all lines read in, except line, have been printed <br />
    while (line != null) {<br />
    &nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;line is &quot; + line);<br />
    &nbsp;&nbsp;&nbsp;&nbsp;line= br.readLine();  <br />
    }</p></blockquote>
	
<p class="reddish"><strong>Benevolent side effects</strong></p>
<p>There is one class of side effect that is OK. A benevolent side effect is one that changes the state but not in a way that the user can observe. A benevolent side effect can be used to make a program more efficient. Here is an example.</p>
<p>Consider implementing a class that mantains a set of questions-and-answers. When someone asks a question, the corresponding answer is given. The questions-and-answers are implemented in an array, and one has to search the list in linear fashion to find a question. It is better if more frequently asked questions are at the front of the list, so they are more efficiently found. This can be achieved by the following: Whenever a question is asked, move it up one position in the array. This changes the representation of the set of questions-and-answers, but not the set itself; the user cannot notice the change. This is a benevolent side effect.<br />
</p>
<a name="codeToInterface" id="codeToInterface"></a>
<p>&nbsp;</p>
<div class="section">8. Code to interfaces instead of implementations</div>
<p>In most cases, the client code
    doesn't care about the implementation of the list ---it just
    wants to know what operations are supported. Specifying a
    linked list is needlessly providing a detail that makes future
    changes harder.</p>
<div class="codegries">List&lt;String&gt; users= new LinkedList&lt;String&gt;(); <span class="good">// Good</span><br />
    LinkedList&lt;String&gt; users= new LinkedList&lt;String&gt;(); <span class="bad">// Bad</span></div>
<a name="deprecated" id="deprecated"></a>
<p>&nbsp;</p>
<div class="section">9. Avoid deprecated patterns</div>
<p>Java has changed over the years, and as changes have been made, some methods and classes have been <span class="reddish">deprecated</span>. <span class="reddish">Deprecated</span> literally means &quot;disapproved of&quot;, but a more accurate translation would be <span class="codegries">&quot;retired</span>&quot;. A deprecated method (or class) is still usable, but it is best not to use it. It will gradually be phased out. There is a new method to do the same thing.</p>
<p>So if you see that something is deprecated and you have the time, look for the better alternative and use it instead.</p>


</div>
<!-- InstanceEndEditable --></div>

<hr />

<div id="footer">
<!-- The footer-content div contains the Cornell University copyright -->
<div id="footer-content">
	&copy;2017 David Gries</div>
</div>

<script type="text/javascript">
$(document).ready(function() {
    $(".fancybox").fancybox({
         width : '70%',
         height : '70%' 
     });
});
</script></div>
</body>
<!-- InstanceEnd --></html>